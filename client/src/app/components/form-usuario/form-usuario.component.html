<h1 mat-dialog-title>Usuario</h1>
<form [formGroup]="form" (ngSubmit)="onAgregarEditarUsuario()">
  <mat-dialog-content>
    <div class="row">
      <div class="column">
        <mat-form-field>
          <mat-label>Número de documento</mat-label>
          <input
            matInput
            placeholder="Número de documento"
            formControlName="numDocumento"
            required
            autocomplete="off"
          />
          <mat-error *ngIf="form.get('numDocumento')?.hasError('pattern')"
            >El valor debe ser un número</mat-error
          >
          <mat-error *ngIf="form.get('numDocumento')?.hasError('required')"
            >El campo es obligatorio
          </mat-error>
        </mat-form-field>
      </div>

      <div class="column">
        <mat-form-field>
          <mat-label>Nombres</mat-label>
          <input
            matInput
            placeholder="Nombres"
            formControlName="nombres"
            required
            autocomplete="off"
          />
          <mat-error *ngIf="form.get('nombres')?.hasError('pattern')"
            >El valor debe ser una cadena de texto</mat-error
          >
          <mat-error *ngIf="form.get('nombres')?.hasError('required')"
            >El campo es obligatorio
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="column">
        <mat-form-field>
          <mat-label>Apellidos</mat-label>
          <input
            matInput
            placeholder="Apellidos"
            formControlName="apellidos"
            required
            autocomplete="off"
          />
          <mat-error *ngIf="form.get('apellidos')?.hasError('pattern')"
            >El valor debe ser una cadena de texto</mat-error
          >
          <mat-error *ngIf="form.get('apellidos')?.hasError('required')"
            >El campo es obligatorio
          </mat-error>
        </mat-form-field>
      </div>
      <div class="column">
        <mat-form-field>
          <mat-label>Área</mat-label>
          <mat-select
            formControlName="areas"
            (selectionChange)="onSelectionChange($event)"
          >
            <ng-container *ngFor="let area of areas; let i = index">
              <mat-option value="{{ area.id }}">{{ area.nombre}}</mat-option>
            </ng-container>
          </mat-select>
          <mat-error *ngIf="form.get('areas')?.hasError('required')"
            >El campo es obligatorio
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="column">
        <mat-form-field>
          <mat-label>Grupo de seguridad</mat-label>
          <mat-select
            formControlName="gruposSeg"
            (selectionChange)="onSelectionChange($event)"
          >
            <ng-container *ngFor="let grupo of gruposSeg; let i = index">
              <mat-option value="{{ grupo.id }}">{{ grupo.nombre }}</mat-option>
            </ng-container>
          </mat-select>
          <mat-error *ngIf="form.get('gruposSeg')?.hasError('required')"
            >El campo es obligatorio
          </mat-error>
        </mat-form-field>
      </div>
      <div class="column">
        <mat-form-field>
          <mat-label>Usuario</mat-label>
          <input
            matInput
            placeholder="Correo empresarial"
            formControlName="correoUsuario"
            required
            autocomplete="off"
          />
          <mat-error *ngIf="form.get('correoUsuario')?.hasError('email')"
            >El valor debe ser un correo</mat-error
          >
          <mat-error *ngIf="form.get('correoUsuario')?.hasError('required')"
            >El campo es obligatorio
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <mat-form-field>
        <mat-label>Contraseña</mat-label>
        <input
          matInput
          type="password"
          placeholder="Contraseña"
          formControlName="password"
          required
          autocomplete="off"
        />
        <mat-error *ngIf="form.get('password')?.hasError('pattern')"
          >La contraseña debe tener una longitud mínima de 8 caracteres, debe
          contener al menos 1 letra y al menos 1 número.</mat-error
        >
        <mat-error *ngIf="form.get('password')?.hasError('required')"
          >El campo es obligatorio
        </mat-error>
      </mat-form-field>
    </div>
  </mat-dialog-content>

  <div mat-dialog-actions style="justify-content: flex-end">
    <button mat-button (click)="onRegresar()" class="boton-regresar">
      Regresar
    </button>
    <button mat-button type="submit" cdkFocusInitial class="boton-aceptar">
      Agregar usuario
    </button>
  </div>
</form>
